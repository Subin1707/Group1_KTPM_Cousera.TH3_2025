<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hệ Thống Quản Lý Bệnh Viện</title>
    <link rel="stylesheet" href="/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="background-overlay"></div>
    
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="hospital-logo">
                <i class="fas fa-hospital"></i>
            </div>
            <h1 class="main-title">HỆ THỐNG QUẢN LÝ BỆNH VIỆN</h1>
        </header>

        <div class="main-square-container">
            <div class="central-square">
                <!-- Welcome section inside square -->
                <div class="welcome-inside">
                    <div class="welcome-message">
                        <i class="fas fa-user-circle"></i>
                        <span>Xin chào, <strong th:text="${username}">Người dùng</strong>!</span>
                    </div>
                </div>

                <!-- Function grid -->
                <div class="square-grid">
                    <a href="/patients" class="square-item patients-item">
                        <i class="fas fa-user-injured"></i>
                        <span>Bệnh Nhân</span>
                    </a>

                    <a href="/benhan" class="square-item medical-item">
                        <i class="fas fa-file-medical"></i>
                        <span>Bệnh Án</span>
                    </a>

                    <a href="/schedule" class="square-item schedule-item">
                        <i class="fas fa-pills"></i>
                        <span>Lịch Cấp Thuốc</span>
                    </a>

                    <a href="/room" class="square-item room-item">
                        <i class="fas fa-hospital-user"></i>
                        <span>Phòng Điều Trị</span>
                    </a>
                </div>

                <!-- Time info inside square -->
                <div class="time-inside">
                    <div class="time-info">
                        <div class="stat-item">
                            <i class="fas fa-clock"></i>
                            <span class="current-time" id="currentTime"></span>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-calendar-day"></i>
                            <span class="current-date" id="currentDate"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="dashboard-footer">
            <a href="/logout" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Đăng Xuất</span>
            </a>
        </footer>
    </div>

    <script>
        // Animation cho square items khi load trang
        document.addEventListener('DOMContentLoaded', function() {
            const squareItems = document.querySelectorAll('.square-item');
            squareItems.forEach((item, index) => {
                item.style.animationDelay = `${index * 0.1}s`;
                item.classList.add('fade-in-up');
            });

            // Cập nhật thời gian thực
            function updateDateTime() {
                const now = new Date();
                const timeElement = document.getElementById('currentTime');
                const dateElement = document.getElementById('currentDate');
                
                if (timeElement) {
                    timeElement.textContent = now.toLocaleTimeString('vi-VN');
                }
                
                if (dateElement) {
                    dateElement.textContent = now.toLocaleDateString('vi-VN', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
            }

            updateDateTime();
            setInterval(updateDateTime, 1000);

            // Particle effect cho background
            createParticles();
        });

        // Tạo hiệu ứng particles
        function createParticles() {
            const particlesContainer = document.createElement('div');
            particlesContainer.className = 'particles';
            document.body.appendChild(particlesContainer);

            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Hover effects cho square items
        document.querySelectorAll('.square-item').forEach(item => {
            item.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px) scale(1.08)';
            });
            
            item.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(-5px) scale(1.05)';
            });
        });
    </script>
</body>
</html>
